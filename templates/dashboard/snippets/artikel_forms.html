{% extends 'dashboard/base.html' %}
{% load static %}
{% block content %}
  <div class="content">
    <div class="row">
        <div class="col-md-12">
            <div class="card ">
            <form method="POST" class="form-horizontal" enctype="multipart/form-data">
              {% csrf_token %}  
              <div class="card-header ">
                <h4 class="card-title">{{ title }}</h4>
              </div>
              <div class="card-body ">
                  <div class="row">
                    <label class="col-sm-2 col-form-label">Judul</label>
                    <div class="col-sm-10">
                      <div class="form-group">{{ forms.judul }}</div>
                    </div>
                    <label class="col-sm-2 col-form-label">Isi Artikel</label>
                    <div class="col-sm-10">
                      <div class="form-group">{{ forms.isi }}</div>
                    </div>
                    <label class="col-sm-2 col-form-label">Kategori</label>
                    <div class="col-sm-10">
                      <div class="form-group">{{ forms.kategori }}</div>
                  </div>
                  <label class="col-sm-2 col-form-label">Thumbnail</label>
                    <div class="col-sm-10">{{ forms.thumbnail }}</div>
              </div>
              <div class="card-footer text-right">
                <button class="btn btn-success">Simpan</button>
              </div>
            </form>
            </div>
          </div>
        </div>
      </div>
{% endblock content %}

{% block js %}
<!-- Load CKEditor core first -->
<script type="text/javascript" src="{% static 'ckeditor/ckeditor/ckeditor.js' %}"></script>
<!-- Then load CKEditor init -->
<script type="text/javascript" src="{% static 'ckeditor/ckeditor-init.js' %}"></script>
<!-- Force initialize CKEditor if not auto-initialized -->
<script type="text/javascript">
    document.addEventListener('DOMContentLoaded', function() {
        // Find all textareas that should be CKEditor
        var textareas = document.querySelectorAll('textarea');
        textareas.forEach(function(textarea) {
            if (textarea.id && textarea.id.indexOf('id_isi') !== -1) {
                // Force replace textarea with CKEditor
                if (typeof CKEDITOR !== 'undefined' && !CKEDITOR.instances[textarea.id]) {
                    CKEDITOR.replace(textarea.id, {
                        customConfig: '/static/ckeditor/config.js'
                    });
                }
            }
        });
    });
</script>
{% endblock %}
